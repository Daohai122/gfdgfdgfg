<div class="col-md-12">
	<div class="info-wrapper">
		<form validation-form submit-function="submitModalForm()" class="m-form m-form--fit m-form--label-align-right">

			<!-- Edit Mode -->
			<div class="col-md-12" ng-show="mode == 'edit'">
				<div class="m-portlet m-portlet--tabs m-portlet--head-solid-bg m-portlet--head-sm m-portlet--bordered " id="studentForm">
					<div class="m-portlet__head accordion-toggle" >
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">{{'Chi tiết về gia đình' | translate}}</h3>
							</div>  
						</div>
					</div>
					<div class="m-portlet__body collapse show" id="demo" aria-expanded="true" >
						<div class="form-group m-form__group row">
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Thăm nhà' | translate}} <span class="required">*</span></label>
									<div class="col-8">
										<select class="form-control" si-selectpicker ng-model="meFormData.home_visited" title="Thăm nhà" required>
											<option value="">Thăm nhà</option>
											<option value="1">Có</option>
											<option value="2">Không</option>
											<option value="3">Qua điện thoại / phỏng vấn</option>
										</select>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Thuộc hộ' | translate}}</label>
									<div class="col-8">
										<select class="form-control" si-selectpicker ng-model="meFormData.family_group" title="Hộ gia đình">
											<option value="">Thuộc hộ</option>
											<option value="1">Giàu</option>
											<option value="2">Thách thức kinh tế</option>
											<option value="3">Nghèo</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row">
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Người đến thăm' | translate}}</label>
									<div class="col-8">
										<input type="text" validation="validation" ng-model="meFormData.home_review" class="form-control m-input" maxlength='255' placeholder="Người đến thăm">
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Đính kèm' | translate}}</label>
									<div class="col-8">
										<div class="row">
											<div class="col-12">
												<div class="m-dropzone dropzone dz-clickable" id="m-dropzone" style="min-height: 60px;">
													<div style="position: absolute;">
														<button type="button" id="upload_img" class="btn btn-secondary" >{{'Thêm mới' | translate}}</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						
					</div>
				</div>
				<div class="m-portlet m-portlet--tabs m-portlet--head-solid-bg m-portlet--head-sm m-portlet--bordered " id="studentForm">
					<div class="m-portlet__head accordion-toggle" >
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">{{'Kết quả phỏng vấn' | translate}}</h3>
							</div>  
						</div>
					</div>
					<div class="m-portlet__body collapse show" id="demo" aria-expanded="true" >
						<div class="form-group m-form__group row">
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Chấp nhận' | translate}}</label>
									<div class="col-8">
										<select class="form-control" si-selectpicker ng-model="meFormData.result" title="Kết quả">
											<option value="">Kết quả</option>
											<option value="1">Có</option>
											<option value="2">Không</option>
											<option value="3">Dự phòng</option>
										</select>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Học viên đầu vào' | translate}}</label>
									<div class="col-8">
										<div class="row m-margin-left-0 m-margin-right-0" style="justify-content: space-between;">
											<p class="form-control col-12" disabled readonly ng-if="meFormData.is_study == 'true'">Có</p>
											<p class="form-control col-3" disabled readonly ng-if="meFormData.is_study == 'false'">Không</p>
											<button class="btn btn-info col-8" ng-show="meFormData.is_study == 'false'" ng-click="markStudentIsStudy()">Đánh dấu học viên đầu vào</button>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row" ng-show="meFormData.result != 1 && meFormData.result != 0">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Lý do' | translate}}</label>
									<div class="col-10">
										<input type="text" validation="validation" ng-model="meFormData.reason" class="form-control m-input" maxlength='255' placeholder="Lý do">
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row" ng-show="meFormData.result == 1">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Ngành học' | translate}}</label>
									<div class="col-10">
										<select class="form-control m-input" update="studyField" multiple si-selectpicker title="Chọn ngành học" ng-model="meFormData.fields">
											<option value="">Chọn ngành học</option>
											<option ng-repeat="field in studyField" value="{{field.id}}">{{field.name}}</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Người phỏng vấn' | translate}}</label>
									<div class="col-10">
										<input type="text" validation="validation" ng-model="meFormData.interviewer" class="form-control m-input" maxlength='255' placeholder="Người phỏng vấn">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

			<!-- View Mode -->
			<div class="col-md-12" ng-show="mode == 'view'">
				<div class="m-portlet m-portlet--tabs m-portlet--head-solid-bg m-portlet--head-sm m-portlet--bordered " id="studentForm">
					<div class="m-portlet__head accordion-toggle" >
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">{{'Chi tiết về gia đình' | translate}}</h3>
							</div>
						</div>
					</div>
					<div class="m-portlet__body collapse show" id="demo" aria-expanded="true" >
						<div class="form-group m-form__group row">
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Thăm nhà' | translate}} <span class="required">*</span></label>
									<div class="col-8">
										<p class="form-control" disabled readonly ng-if="studentME.home_visited == 1">Có</p>
										<p class="form-control" disabled readonly ng-if="studentME.home_visited == 2">Không</p>
										<p class="form-control" disabled readonly ng-if="studentME.home_visited == 3">Qua điện thoại / phỏng vấn</p>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Thuộc hộ' | translate}} </label>
									<div class="col-8">
										<p class="form-control" disabled readonly ng-if="studentME.family_group == 1">Giàu</p>
										<p class="form-control" disabled readonly ng-if="studentME.family_group == 2">Thách thức kinh tế</p>
										<p class="form-control" disabled readonly ng-if="studentME.family_group == 3">Nghèo</p>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row">
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Người đến thăm' | translate}}</label>
									<div class="col-8">
										<p class="form-control" disabled readonly>{{studentME.home_review}}</p>
									</div>
								</div>
							</div>
							<div class="col-md-6" ng-show="studentME.profile_family">
								<div class="row">
									<label class="col-4 col-form-label">{{'Đính kèm' | translate}}</label>
									<a class="col-8" ng-click="downloadData()" style="cursor: pointer;"><i class="fa fa-download"></i> {{'Tải xuống file đính kèm' | translate}}</a>
								</div>
							</div>
						</div>
						
					</div>
				</div>
				<div class="m-portlet m-portlet--tabs m-portlet--head-solid-bg m-portlet--head-sm m-portlet--bordered " id="studentForm">
					<div class="m-portlet__head accordion-toggle" >
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">{{'Kết quả phỏng vấn' | translate}}</h3>
							</div>  
						</div>
					</div>
					<div class="m-portlet__body collapse show" id="demo" aria-expanded="true" >
						<div class="form-group m-form__group row">
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Chấp nhận' | translate}}</label>
									<div class="col-8">
										<p class="form-control" disabled readonly ng-if="studentME.result == 1">Có</p>
										<p class="form-control" disabled readonly ng-if="studentME.result == 2">Không</p>
										<p class="form-control" disabled readonly ng-if="studentME.result == 3">Dự phòng</p>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="row">
									<label class="col-4 col-form-label">{{'Học viên đầu vào' | translate}}</label>
									<div class="col-8">
										<p class="form-control" disabled readonly ng-if="studentME.is_study == 'true'">Có</p>
										<p class="form-control" disabled readonly ng-if="studentME.is_study == 'false'">Không</p>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row" ng-show="studentME.result != 1">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Lý do' | translate}}</label>
									<div class="col-10">
										<p class="form-control" disabled readonly>{{studentME.reason}}</p>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Chuyên ngành' | translate}}</label>
									<div class="col-10">
										<p class="form-control m--margin-bottom-5" ng-repeat="field in fieldStudy track by $index">{{field}}</p>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Người phỏng vấn' | translate}}</label>
									<div class="col-10">
										<p class="form-control" disabled readonly>{{studentME.interviewer}}</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="m-portlet m-portlet--tabs m-portlet--head-solid-bg m-portlet--head-sm m-portlet--bordered " id="studentForm">
					<div class="m-portlet__head accordion-toggle" >
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">{{'Trạng thái sinh viên' | translate}}</h3>
							</div>  
						</div>
					</div>
					<div class="m-portlet__body collapse show" id="demo" aria-expanded="true" >
						<div class="form-group m-form__group row">
							<div class="col-md-12">
								<div class="row">
									<label class="col-2 col-form-label">{{'Trạng thái' | translate}}</label>
									<div class="col-10">
										<p class="form-control" disabled readonly ng-if="studentME.status == 5">Nghỉ học</p>
										<p class="form-control" disabled readonly ng-if="studentME.status == 6">Hoàn thành khóa học</p>
										<p class="form-control" disabled readonly ng-if="studentME.status == 8">Đang học</p>
										<p class="form-control" disabled readonly ng-if="studentME.status == 9">Bảo lưu kết quả</p>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group m-form__group row" ng-show="studentME.result == 1">
							<div class="flex-right col-12 m--margin-bottom-10">
								<button class="btn btn-info" ng-click="addModalStatus()">{{'Thêm trạng thái' | translate}}</button>
							</div>
							<table class="table table-striped table-bordered table-hover table-checkable no-footer" role="grid">
								<thead>
									<tr role='row'>
										<td>Tháng</td>
										<td>Trạng thái</td>
										<td>Hành động</td>
									</tr>
								</thead>
								<tbody>
									<tr ng-show="!studentStatus.length > 0">
										<td colspan="7" class="text-center">{{'Không có thông tin' | translate}}</td>
									</tr>
									<tr ng-show="studentStatus.length > 0" ng-repeat="status in studentStatus track by $index">
										<td>{{status.month}}</td>
										<td>
											<p ng-if="status.status == 5">Nghỉ học</p>
											<p ng-if="status.status == 6">Hoàn thành khóa học</p>
											<p ng-if="status.status == 8">Đang học</p>
											<p ng-if="status.status == 9">Bảo lưu kết quả</p>
										</td>
										<td>
											<a href="javarscipt:;" ng-click="updateModalStatus($index)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="m-tooltip"  title="" data-original-title="Sửa" ng-show="$index == (studentStatus.length - 1)"><i class="la la-edit"></i></a>
											<a href="javascript:;" ng-click="deleteStatus($index)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="m-tooltip"  title="" data-original-title="Xóa" ng-show="$index == (studentStatus.length - 1)"><i class="flaticon-delete"></i></a>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

			</div>
			<div class="col-lg-12 button-center m--padding-top-15" ng-show="mode == 'edit'">
				<button type="button" class="btn btn-secondary" ng-click="changeMode('view')">{{'Hủy' | translate}}</button>
				<button type="submit" button-submit class="btn btn-accent">{{'Lưu' | translate}}</button>
			</div>
		</form>
	</div>
</div>

<div class="modal fade" id="statusFormModal" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog"  style="width: 95%; max-width: 95%;">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" ng-if="formMode == 'create'">{{'Thêm trạng thái' | translate}}</h5>
				<h5 class="modal-title" ng-if="formMode == 'update'">{{'Sửa trạng thái' | translate}}</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form validation-form submit-function="submitModalForm()" class="m-form m-form--fit m-form--label-align-right">
					<div class="form-group m-form__group row">
						<div class="col-md-6">
							<div class="row">
								<label class="col-4 col-form-label">{{'Tháng' | translate}} <span class="required">*</span></label>
								<div class="col-8">
									<input type="text" validation="validation" ng-model="formData.month" class="form-control m-input" maxlength='100' placeholder="Nhập tiêu đề" required>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="row">
								<label class="col-4 col-form-label">{{'Trạng thái học viên' | translate}} <span class="required">*</span></label>
								<div class="col-8">
									<select class="form-control" si-selectpicker ng-model="formData.status" title="Trạng thái học viên" update="formData">
										<option value="">Trạng thái học viên</option>
										<option value="5">Nghỉ học</option>
										<option value="6">Hoàn thành khóa học</option>
										<option value="8">Đang học</option>
										<option value="9">Bảo lưu kết quả</option>
									</select>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-7 ml-lg-auto">
							<button type="reset" button-reset class="btn btn-secondary" data-dismiss="modal">{{'Quay lại' | translate}}</button>
							<button button-submit  type="submit" class="btn btn-accent">{{'Lưu' | translate}}</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>